import{a as ue}from"./chunk-BHVNSPY6.js";import{b as j,c as q,e as K}from"./chunk-XVAHRLWD.js";import{a as ne,b as ae,c as oe,f as re,h as le,i as se,j as ce,k as de,l as ge,m as pe,n as me}from"./chunk-H6JEJQHG.js";import{A as Q,C as X,D as Y,E as P,F as $,H as ee,I as F,L as te,M as ie,b as D,g as J,h as Z,k as B,l as L,m as z,p as R,u as k}from"./chunk-ESOQDHF6.js";import{Aa as G,Gb as H,Kb as O,La as S,Ma as h,Oa as A,Pa as W,Qa as b,Ra as i,S as g,Sa as n,T as p,Ta as x,Ua as y,Va as C,Wa as d,Za as U,a as V,ba as M,bb as c,cb as w,db as N,gb as m,hb as u,ib as _,pa as l,pb as E,rb as v,sb as T,wa as I}from"./chunk-KIKRUHUI.js";var xe=(s,r)=>({"bg-green-50 text-green-800 border border-green-200":s,"bg-red-50 text-red-800 border border-red-200":r}),fe=(s,r)=>({"text-green-600":s,"text-red-600":r}),be=(s,r)=>({"text-blue-600 border-b-2 border-blue-600":s,"text-gray-600 hover:text-gray-900":r}),ye=(s,r)=>({"border-blue-600 bg-blue-50":s,"border-gray-300 hover:border-gray-400":r}),Ce=(s,r)=>r.id,Se=(s,r)=>r.value;function he(s,r){if(s&1&&(i(0,"div",7),x(1,"lucide-icon",18),i(2,"span",19),c(3),n()()),s&2){let e=d();b("ngClass",E(4,xe,e.alertType()==="success",e.alertType()==="error")),l(),b("img",e.alertType()==="success"?e.CheckCircle:e.AlertCircle)("ngClass",E(7,fe,e.alertType()==="success",e.alertType()==="error")),l(2),w(e.alertMessage())}}function we(s,r){if(s&1){let e=y();i(0,"button",20),C("click",function(){let t=g(e).$implicit,a=d();return p(a.activeTab.set(t.id))}),x(1,"lucide-icon",17),c(2),v(3,"translate"),n()}if(s&2){let e=r.$implicit,o=d();b("ngClass",E(5,be,o.activeTab()===e.id,o.activeTab()!==e.id)),l(),b("img",e.icon),l(),N(" ",T(3,3,e.labelKey)," ")}}function ve(s,r){if(s&1){let e=y();i(0,"div",13)(1,"div")(2,"label",21),c(3,"Clinic Name"),n(),i(4,"input",22),_("ngModelChange",function(t){g(e);let a=d();return u(a.settings.clinic.name,t)||(a.settings.clinic.name=t),p(t)}),n()(),i(5,"div")(6,"label",21),c(7,"Phone Number"),n(),i(8,"input",23),_("ngModelChange",function(t){g(e);let a=d();return u(a.settings.clinic.phone,t)||(a.settings.clinic.phone=t),p(t)}),n()(),i(9,"div")(10,"label",21),c(11,"Email Address"),n(),i(12,"input",24),_("ngModelChange",function(t){g(e);let a=d();return u(a.settings.clinic.email,t)||(a.settings.clinic.email=t),p(t)}),n()(),i(13,"div")(14,"label",21),c(15,"Address"),n(),i(16,"textarea",25),_("ngModelChange",function(t){g(e);let a=d();return u(a.settings.clinic.address,t)||(a.settings.clinic.address=t),p(t)}),n()()()}if(s&2){let e=d();l(4),m("ngModel",e.settings.clinic.name),l(4),m("ngModel",e.settings.clinic.phone),l(4),m("ngModel",e.settings.clinic.email),l(4),m("ngModel",e.settings.clinic.address)}}function Te(s,r){if(s&1){let e=y();i(0,"button",32),C("click",function(){let t=g(e).$implicit,a=d(2);return p(a.settings.appearance.theme=t.value)}),x(1,"lucide-icon",33),i(2,"span",34),c(3),n()()}if(s&2){let e=r.$implicit,o=d(2);b("ngClass",E(3,ye,o.settings.appearance.theme===e.value,o.settings.appearance.theme!==e.value)),l(),b("img",e.icon),l(2),w(e.label)}}function Me(s,r){if(s&1){let e=y();i(0,"div",13)(1,"div")(2,"label",26),c(3,"Theme"),n(),i(4,"div",27),A(5,Te,4,6,"button",28,Se),n()(),i(7,"div")(8,"label",21),c(9),v(10,"translate"),n(),i(11,"select",29,0),_("ngModelChange",function(t){g(e);let a=d();return u(a.settings.appearance.language,t)||(a.settings.appearance.language=t),p(t)}),C("change",function(){g(e);let t=U(12),a=d();return p(a.onLanguageChange(t.value))}),i(13,"option",30),c(14),v(15,"translate"),n(),i(16,"option",31),c(17),v(18,"translate"),n()()()()}if(s&2){let e=d();l(5),W(e.themes),l(4),w(T(10,4,"LANGUAGE")),l(2),m("ngModel",e.settings.appearance.language),l(3),w(T(15,6,"ENGLISH")),l(3),w(T(18,8,"ARABIC"))}}function Ee(s,r){if(s&1){let e=y();i(0,"div",14)(1,"div",35)(2,"div")(3,"h3",36),c(4,"Visit Reminders"),n(),i(5,"p",37),c(6,"Get notified about upcoming visits"),n()(),i(7,"label",38)(8,"input",39),_("ngModelChange",function(t){g(e);let a=d();return u(a.settings.notifications.visitReminders,t)||(a.settings.notifications.visitReminders=t),p(t)}),n(),x(9,"div",40),n()(),i(10,"div",35)(11,"div")(12,"h3",36),c(13,"Payment Reminders"),n(),i(14,"p",37),c(15,"Remind patients about outstanding payments"),n()(),i(16,"label",38)(17,"input",39),_("ngModelChange",function(t){g(e);let a=d();return u(a.settings.notifications.paymentReminders,t)||(a.settings.notifications.paymentReminders=t),p(t)}),n(),x(18,"div",40),n()(),i(19,"div",35)(20,"div")(21,"h3",36),c(22,"Daily Summary"),n(),i(23,"p",37),c(24,"Receive a daily summary of clinic activities"),n()(),i(25,"label",38)(26,"input",39),_("ngModelChange",function(t){g(e);let a=d();return u(a.settings.notifications.dailySummary,t)||(a.settings.notifications.dailySummary=t),p(t)}),n(),x(27,"div",40),n()()()}if(s&2){let e=d();l(8),m("ngModel",e.settings.notifications.visitReminders),l(9),m("ngModel",e.settings.notifications.paymentReminders),l(9),m("ngModel",e.settings.notifications.dailySummary)}}function ke(s,r){if(s&1){let e=y();i(0,"div",13)(1,"div")(2,"label",21),c(3,"Currency"),n(),i(4,"select",41),_("ngModelChange",function(t){g(e);let a=d();return u(a.settings.business.currency,t)||(a.settings.business.currency=t),p(t)}),i(5,"option",42),c(6,"EGP (\u062C.\u0645)"),n(),i(7,"option",43),c(8,"USD ($)"),n(),i(9,"option",44),c(10,"EUR (\u20AC)"),n(),i(11,"option",45),c(12,"GBP (\xA3)"),n()()(),i(13,"div")(14,"label",21),c(15,"Tax Rate (%)"),n(),i(16,"input",46),_("ngModelChange",function(t){g(e);let a=d();return u(a.settings.business.taxRate,t)||(a.settings.business.taxRate=t),p(t)}),n()(),i(17,"div",47)(18,"div")(19,"label",21),c(20,"Working Hours Start"),n(),i(21,"input",48),_("ngModelChange",function(t){g(e);let a=d();return u(a.settings.business.workingHours.start,t)||(a.settings.business.workingHours.start=t),p(t)}),n()(),i(22,"div")(23,"label",21),c(24,"Working Hours End"),n(),i(25,"input",48),_("ngModelChange",function(t){g(e);let a=d();return u(a.settings.business.workingHours.end,t)||(a.settings.business.workingHours.end=t),p(t)}),n()()()()}if(s&2){let e=d();l(4),m("ngModel",e.settings.business.currency),l(12),m("ngModel",e.settings.business.taxRate),l(5),m("ngModel",e.settings.business.workingHours.start),l(4),m("ngModel",e.settings.business.workingHours.end)}}function Ve(s,r){if(s&1){let e=y();i(0,"div")(1,"label",21),c(2,"Backup Frequency"),n(),i(3,"select",41),_("ngModelChange",function(t){g(e);let a=d(2);return u(a.settings.data.backupFrequency,t)||(a.settings.data.backupFrequency=t),p(t)}),i(4,"option",60),c(5,"Daily"),n(),i(6,"option",61),c(7,"Weekly"),n(),i(8,"option",62),c(9,"Monthly"),n()()()}if(s&2){let e=d(2);l(3),m("ngModel",e.settings.data.backupFrequency)}}function Ie(s,r){if(s&1){let e=y();i(0,"div",13)(1,"div",49)(2,"div",50)(3,"div")(4,"h3",36),c(5,"Automatic Backup"),n(),i(6,"p",37),c(7,"Automatically backup your data"),n()(),i(8,"label",38)(9,"input",39),_("ngModelChange",function(t){g(e);let a=d();return u(a.settings.data.autoBackup,t)||(a.settings.data.autoBackup=t),p(t)}),n(),x(10,"div",40),n()(),S(11,Ve,10,1,"div"),n(),i(12,"div",51)(13,"button",52),C("click",function(){g(e);let t=d();return p(t.exportData())}),x(14,"lucide-icon",17),c(15," Export All Data "),n(),i(16,"button",53),C("click",function(){g(e);let t=d();return p(t.importData())}),x(17,"lucide-icon",17),c(18," Import Data "),n(),i(19,"input",54,1),C("change",function(t){g(e);let a=d();return p(a.onFileSelected(t))}),n()(),i(21,"div",55)(22,"h3",56),x(23,"lucide-icon",57),c(24," Danger Zone "),n(),i(25,"p",58),c(26,"These actions cannot be undone. Please be careful."),n(),i(27,"button",59),C("click",function(){g(e);let t=d();return p(t.clearAllData())}),x(28,"lucide-icon",17),c(29," Clear All Data "),n()()()}if(s&2){let e=d();l(9),m("ngModel",e.settings.data.autoBackup),l(2),h(e.settings.data.autoBackup?11:-1),l(3),b("img",e.Download),l(3),b("img",e.Upload),l(6),b("img",e.AlertCircle),l(5),b("img",e.Trash2)}}var _e=class s{constructor(r,e){this.appTranslate=r;this.translate=e;this.loadSettings();let o=localStorage.getItem("clinic_language")||this.settings.appearance.language;this.settings.appearance.language=o,this.appTranslate.use(o)}SettingsIcon=X;User=F;Bell=D;Shield=Y;Database=B;Moon=k;Sun=P;Globe=R;DollarSign=L;Download=z;Upload=ee;Trash2=$;Save=Q;AlertCircle=J;CheckCircle=Z;activeTab=M("clinic");showAlert=M(!1);alertMessage=M("");alertType=M("success");tabs=[{id:"clinic",labelKey:"CLINIC_INFO",icon:F},{id:"appearance",labelKey:"APPEARANCE",icon:k},{id:"notifications",labelKey:"NOTIFICATIONS",icon:D},{id:"business",labelKey:"BUSINESS",icon:L},{id:"data",labelKey:"DATA",icon:B}];themes=[{value:"light",label:"Light",icon:P},{value:"dark",label:"Dark",icon:k},{value:"auto",label:"Auto",icon:R}];settings={clinic:{name:"Dental Clinic",phone:"+20 123 456 7890",address:"Port Said, Egypt",email:"clinic@example.com"},appearance:{theme:"light",language:"en"},notifications:{visitReminders:!0,paymentReminders:!0,dailySummary:!1},business:{currency:"EGP",taxRate:14,workingHours:{start:"09:00",end:"17:00"}},data:{autoBackup:!1,backupFrequency:"weekly"}};loadSettings(){let r=localStorage.getItem("clinic_settings");if(r)try{this.settings=V(V({},this.settings),JSON.parse(r))}catch(e){console.error("Error loading settings:",e)}}saveSettings(){try{localStorage.setItem("clinic_settings",JSON.stringify(this.settings)),this.appTranslate.use(this.settings.appearance.language);let r=this.translate.instant("SETTINGS_SAVED")||"Settings saved successfully!";this.showNotification(r,"success")}catch{this.showNotification("Failed to save settings","error")}}onLanguageChange(r){this.settings.appearance.language=r,this.appTranslate.use(r)}exportData(){try{let r={settings:this.settings,patients:localStorage.getItem("clinic_patients"),visits:localStorage.getItem("clinic_visits"),procedures:localStorage.getItem("clinic_procedures"),payments:localStorage.getItem("clinic_payments"),prescriptions:localStorage.getItem("clinic_prescriptions"),exportDate:new Date().toISOString()},e=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),o=URL.createObjectURL(e),t=document.createElement("a");t.href=o,t.download=`clinic-backup-${new Date().toISOString().split("T")[0]}.json`,t.click(),URL.revokeObjectURL(o),this.showNotification("Data exported successfully!","success")}catch{this.showNotification("Failed to export data","error")}}importData(){document.querySelector('input[type="file"]')?.click()}onFileSelected(r){let o=r.target.files?.[0];if(!o)return;let t=new FileReader;t.onload=a=>{try{let f=JSON.parse(a.target?.result);f.settings&&localStorage.setItem("clinic_settings",JSON.stringify(f.settings)),f.patients&&localStorage.setItem("clinic_patients",f.patients),f.visits&&localStorage.setItem("clinic_visits",f.visits),f.procedures&&localStorage.setItem("clinic_procedures",f.procedures),f.payments&&localStorage.setItem("clinic_payments",f.payments),f.prescriptions&&localStorage.setItem("clinic_prescriptions",f.prescriptions),this.showNotification("Data imported successfully! Please refresh the page.","success")}catch{this.showNotification("Failed to import data. Invalid file format.","error")}},t.readAsText(o)}clearAllData(){confirm("\u26A0\uFE0F WARNING: This will permanently delete ALL clinic data including patients, visits, and payments. This action cannot be undone. Are you absolutely sure?")&&confirm("Final confirmation: Delete everything?")&&(localStorage.removeItem("clinic_patients"),localStorage.removeItem("clinic_visits"),localStorage.removeItem("clinic_procedures"),localStorage.removeItem("clinic_payments"),localStorage.removeItem("clinic_prescriptions"),this.showNotification("All data cleared. Please refresh the page.","success"))}showNotification(r,e){this.alertMessage.set(r),this.alertType.set(e),this.showAlert.set(!0),setTimeout(()=>{this.showAlert.set(!1)},3e3)}static \u0275fac=function(e){return new(e||s)(I(ue),I(j))};static \u0275cmp=G({type:s,selectors:[["app-setting-component"]],decls:24,vars:14,consts:[["langSelect",""],["fileInput",""],[1,"min-h-screen","bg-gray-50","p-6"],[1,"max-w-5xl","mx-auto"],[1,"flex","items-center","gap-3","mb-8"],[1,"w-8","h-8","text-blue-600",3,"img"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mb-6","p-4","rounded-lg","flex","items-center","gap-3","transition-all",3,"ngClass"],[1,"bg-white","rounded-lg","shadow-sm","mb-6"],[1,"border-b","border-gray-200"],[1,"flex","overflow-x-auto"],[1,"flex","items-center","gap-2","px-6","py-4","text-sm","font-medium","transition-colors","whitespace-nowrap",3,"ngClass"],[1,"bg-white","rounded-lg","shadow-sm","p-6"],[1,"space-y-6"],[1,"space-y-4"],[1,"mt-8","pt-6","border-t","border-gray-200"],[1,"flex","items-center","gap-2","px-6","py-3","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"w-4","h-4",3,"img"],[1,"w-5","h-5",3,"img","ngClass"],[1,"font-medium"],[1,"flex","items-center","gap-2","px-6","py-4","text-sm","font-medium","transition-colors","whitespace-nowrap",3,"click","ngClass"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["type","tel",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["type","email",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["rows","3",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"block","text-sm","font-medium","text-gray-700","mb-3"],[1,"grid","grid-cols-3","gap-4"],[1,"flex","flex-col","items-center","gap-2","p-4","border-2","rounded-lg","transition-all",3,"ngClass"],[1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","change","ngModel"],["value","en"],["value","ar"],[1,"flex","flex-col","items-center","gap-2","p-4","border-2","rounded-lg","transition-all",3,"click","ngClass"],[1,"w-6","h-6",3,"img"],[1,"text-sm","font-medium"],[1,"flex","items-center","justify-between","p-4","border","border-gray-200","rounded-lg"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-600"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"ngModelChange","ngModel"],[1,"w-11","h-6","bg-gray-200","peer-focus:ring-4","peer-focus:ring-blue-300","rounded-full","peer","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:left-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","peer-checked:bg-blue-600"],[1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["value","EGP"],["value","USD"],["value","EUR"],["value","GBP"],["type","number","min","0","max","100","step","0.1",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-2","gap-4"],["type","time",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"p-4","border","border-gray-200","rounded-lg"],[1,"flex","items-center","justify-between","mb-4"],[1,"space-y-3"],[1,"w-full","flex","items-center","justify-center","gap-2","px-4","py-3","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"w-full","flex","items-center","justify-center","gap-2","px-4","py-3","bg-green-600","text-white","rounded-lg","hover:bg-green-700","transition-colors",3,"click"],["type","file","accept",".json",1,"hidden",3,"change"],[1,"border-2","border-red-200","rounded-lg","p-4","bg-red-50"],[1,"font-medium","text-red-900","mb-2","flex","items-center","gap-2"],[1,"w-5","h-5",3,"img"],[1,"text-sm","text-red-700","mb-4"],[1,"flex","items-center","gap-2","px-4","py-2","bg-red-600","text-white","rounded-lg","hover:bg-red-700","transition-colors",3,"click"],["value","daily"],["value","weekly"],["value","monthly"]],template:function(e,o){e&1&&(i(0,"div",2)(1,"div",3)(2,"div",4),x(3,"lucide-icon",5),i(4,"h1",6),c(5),v(6,"translate"),n()(),S(7,he,4,10,"div",7),i(8,"div",8)(9,"div",9)(10,"nav",10),A(11,we,4,8,"button",11,Ce),n()()(),i(13,"div",12),S(14,ve,17,4,"div",13),S(15,Me,19,10,"div",13),S(16,Ee,28,3,"div",14),S(17,ke,26,4,"div",13),S(18,Ie,30,6,"div",13),i(19,"div",15)(20,"button",16),C("click",function(){return o.saveSettings()}),x(21,"lucide-icon",17),c(22),v(23,"translate"),n()()()()()),e&2&&(l(3),b("img",o.SettingsIcon),l(2),w(T(6,10,"SETTINGS")),l(2),h(o.showAlert()?7:-1),l(4),W(o.tabs),l(3),h(o.activeTab()==="clinic"?14:-1),l(),h(o.activeTab()==="appearance"?15:-1),l(),h(o.activeTab()==="notifications"?16:-1),l(),h(o.activeTab()==="business"?17:-1),l(),h(o.activeTab()==="data"?18:-1),l(3),b("img",o.Save),l(),N(" ",T(23,12,"SAVE_CHANGES")," "))},dependencies:[O,H,me,ce,de,ae,le,ne,se,oe,pe,ge,re,ie,te,K,q],encapsulation:2})};export{_e as SettingComponent};
